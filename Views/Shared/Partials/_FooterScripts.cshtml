@* 1) Vendors do tema (traz jQuery/Bootstrap, etc.). Evite ter outra jQuery em paralelo *@
<script src="~/js/vendors.min.js"></script>

@* (Opcional) Fallback: se por algum motivo jQuery não veio nos vendors, carrega do CDN *@
<script>
    window.jQuery || document.write('<script src="https://code.jquery.com/jquery-3.7.1.min.js"><\/script>');
</script>

@* 2) DataTables + Buttons (HTML5/Print) — precisa estar após jQuery *@
<script src="https://cdn.datatables.net/v/bs5/dt-2.1.5/b-3.2.0/b-html5-3.2.0/b-print-3.2.0/datatables.min.js"></script>

@* 3) Dependências dos botões HTML5 (Excel/PDF) *@
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>

@* 4) Utilitários globais *@
<script src="~/js/app-notifier.js" asp-append-version="true"></script>
<script src="~/js/app-ajax.js" asp-append-version="true"></script>
<script src="~/js/app-modal.js" asp-append-version="true"></script>
<script src="~/js/dt-util.js" asp-append-version="true"></script>

<!-- defaults globais do toast -->
<script>
    // só roda se o AppNotifier já estiver carregado
    window.AppNotifier && AppNotifier.config({
      position: 'top-right',   // top-right | top-left | bottom-right | bottom-left | center
      template: 'minimal',     // basic | minimal | rich
      delay: 4000,             // ms
      autohide: true
    });
</script>

@* 5) Bootstrap do DTUtil (CSRF + delegados globais). Seguro mesmo se DTUtil não existir *@
<script>
    window.DTUtil && DTUtil.setupAjaxCsrf();
    window.DTUtil && DTUtil.initGlobalDelegates();
</script>

@* 6) App do tema/site — por último, após tudo acima estar carregado *@
<script src="~/js/app.js" asp-append-version="true"></script>

